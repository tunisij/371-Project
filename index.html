<html>
  <head>
    <title> Movie List </title>
    <meta charset="UTF-8">
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="assets/styles/main.css">
    <script src="bower_components/bootstrap/js/modal.js"></script>
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script>
        function ajaxCall() {
            var searchText = document.getElementById("searchInput").value.split(" ");
            searchText = searchText.join("+");

            $.ajax({
            url: "http://www.omdbapi.com/?t=" + searchText + "&y=&plot=short&r=json",
            dataType: "json",
            success: successFunction
            });
        };

        function successFunction(data) {
            if (data.Response === "False") {
                document.getElementById("paragraphSection").innerHTML="";
                alert("Movie not found");
            } else {
                var movie = "<p>" + data.Title + "</p><p>" + data.Year + "</p><p>" + data.Rated + "</p><p>" + data.Released + "</p><p>" + data.Runtime + "</p><p>" + data.Genre + "</p><p>" + data.Director + "</p><p>" + data.Writer + "</p><p>" + data.Actors + "</p><p>" + data.Plot + "</p><p>" + data.Awards + "</p><p>Metascore: " + data.Metascore + "</p><p>IMDB Rating: " + data.imdbRating + '</p><p><img src="' + data.Poster + '"></p>';

                document.getElementById("paragraphSection").innerHTML=movie;
            }
        };
    </script>
 </head>
       
 <body>
     
     <!-- TODO: make this heading container a boostrap nav bar 
     http://www.bootply.com/98624 -->
    <section id="heading-container">
            <div class="container text-center">
                <div class="row">
                    <div class="col-md-3"><img src="assets/images/movielist-logo-name.png"
                        alt="Movie List" style="width: 100px; height:100px;">
                    </div>
                    
                    <div class="col-md-3 pull-right">
                        <!-- Model Inputs for Creating New List and search existing lists  
                         https://jsfiddle.net/KyleMit/0fscmf3L 
                         -->
                        <button class="btn btn-primary btn-lg center-block" data-toggle="modal" data-target="#createListModel">Create List</button>
                        <div class="modal fade" id="createListModel" tabindex-"-1" role="dialog"
                            aria-labelledby="modelLabel1" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <!-- Model Header -->
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">
                                            <span aria-hidden="true">&times;</span>
                                            <span class="sr-only">Close</span>
                                        </button>
                                        <h4 class="modal-title" id="modelLabel1">
                                            Create a List
                                        </h4>
                                    </div>
                                    <! -- Model Body --> 
                                    <div class="modal-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label"
                                                    for="inputNewListName">List Name</label>
                                                <div class="col-sm-10">
                                                    <input type="name" class="form-control" id="inputName" placeholder="List Name"/>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-offset-2 col-sm-10">
                                                    <button type="submit" class="btn btn-default">Create</button>
                                                </div>
                                            </div>
                                         </form>
                                    </div>
                                    <!-- Model Footer -->
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>    
                        </div>
                    </div>
                    
                    <div class="col-md-4 pull-right"></div>
            </div>
        </section>
        
        <div id="container search">
            <div class="featurette">
                <div class="featurette-inner text-center">
                    <form role="form" class="search has-button">
			<h3 class="no-margin-top h3">Search movies</h3>
                        <div class="form-group">
                            <input id="searchInput" type="search" placeholder="Search movie database" class="form-control form-control-lg">
                            <button onclick="ajaxCall()" class="btn btn-lg btn-warning" id="movie-search-button" type="button">Search</button>
                               
                        </div>
                    </form>
            </div>
        </div>
    </div>

    <section id="content-section">
        <div class="col-md-6"></div>
        <div class="col-md-6"><p id="paragraphSection"></p></div>
    </section>
 </body>

</html>
